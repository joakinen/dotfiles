# vi: ft=i3

##
## APPLICATIONS
##

set $terminal_app     "sakura -t sakura-term"
set $app_launcher     "dmenu_run -l 1 -nb '#002b36' -nf '#657b83' -sb '#002b36' -sf '#859900' -p ':: '"

##
## WORKSPACES
##
set $web_workspace   web
set $term_workspace  term
set $msg_workspace   msg
set $extra_workspace extra

##
## COLORS
##

## Colors grouping:
## <class> <border> <background> <text> <indicator> <child border>
set $bg_solarized #002b36
set $fg_solarized #657b83
set $color_gray   #666666
set $color_brown  #b58900
set $color_white  #ffffff
set $color_black  #000000
set $color_red    #990000
set $color_blue   #007fbf

bar {
    colors {
        background         $bg_solarized
        statusline         $fg_solarized
		separator          $color_gray
        focused_workspace  $bg_solarized $bg_solarized $color_brown
        active_workspace   $color_white  $fg_solarized $color_white
        inactive_workspace $bg_solarized $bg_solarized $color_gray
        urgent_workspace   $color_red    $color_red    $color_white
    }
    position top
    status_command i3status
    modifier Mod1
}

client.focused   $color_blue $color_blue $color_white
client.unfocused $color_gray $color_gray $color_white
client.urgent    $color_red  $color_red  $color_white

## Hide borders, use 1 px if displayed.
hide_edge_borders	both
new_window	        pixel 0

## Standard font.
font xft:Go Mono 8


##
## APPLICATION BEHAVIOR
##

## Workspace layout:
##   1: Browsers
##   2: Terminals
##   3: Messaging


assign [class="Firefox"]              $web_workspace
assign [class="Google-chrome-beta"]   $web_workspace
assign [class="qutebrowser"]          $web_workspace
assign [class="TelegramDesktop"]      $msg_workspace
assign [class="Slack"]                $msg_workspace


##
## DIRECT APPLICATION SHORTCUT KEYS
##

## See http://i3wm.org/docs/userguide.html#_scratchpad.
bindsym ctrl+shift+f [title="Mozilla Firefox"] focus
bindsym ctrl+shift+b [title="Google Chrome"]   focus
bindsym ctrl+shift+w [title="qutebrowser"]     focus
bindsym ctrl+shift+t [title="sakura-term"]     focus
bindsym ctrl+shift+l [title="PhpStorm"]        focus
bindsym ctrl+shift+h [title="Slack"]           focus


##
## KEYS
##

## Use Alt as main modifier.
set $mod Mod1

## Drag floating windows using Mouse+$mod.
floating_modifier $mod

## Run a terminal.
bindsym $mod+Shift+Return exec $terminal_app

## Close focused window.
bindsym $mod+Shift+q kill

## Application launcher.
bindsym ctrl+space       exec $app_launcher

## Lock screen using i3lock.
bindsym ctrl+shift+$mod+l exec --no-startup-id i3lock -c $color_black

## Toggle window borders.
bindsym $mod+b border toggle

## Change focus.
bindsym $mod+h focus left
bindsym $mod+t focus down
bindsym $mod+n focus up
bindsym $mod+s focus right

## Move focused window.
bindsym $mod+Shift+h move left
bindsym $mod+Shift+t move down
bindsym $mod+Shift+n move up
bindsym $mod+Shift+s move right

## Alternatively, use cursor keys.
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

## Split vertical.
bindsym $mod+k split v

## Fullscreen mode
bindsym $mod+f fullscreen

## Change container layout.
bindsym $mod+o layout      stacking
bindsym $mod+comma layout  tabbed
bindsym $mod+period layout toggle split

## Toggle floating.
bindsym $mod+Shift+space floating toggle

## Change focus between tiling/floating windows.
bindsym $mod+space focus mode_toggle

## Switch to workspace.
bindsym $mod+1 workspace $web_workspace
bindsym $mod+2 workspace $term_workspace
bindsym $mod+3 workspace $msg_workspace
bindsym $mod+4 workspace $extra_workspace

## Move focused container to workspace.
bindsym $mod+Shift+1 move container to workspace $web_workspace
bindsym $mod+Shift+2 move container to workspace $term_workspace
bindsym $mod+Shift+3 move container to workspace $msg_workspace
bindsym $mod+Shift+4 move container to workspace $extra_workspace

## Reload the configuration file
bindsym $mod+Shift+j reload

## Restart i3.
bindsym $mod+Shift+p restart

## Exit i3.
bindsym $mod+Shift+period exec "i3-nagbar -t warning -m 'Exit i3?' -b 'Yes, exit i3' 'i3-msg exit'"

## Resize mode.
bindsym $mod+r mode "resize"
mode "resize" {
    ## Same key bindings as focus.
    bindsym h resize shrink width 10 px or 10 ppt
    bindsym t resize grow height 10 px or 10 ppt
    bindsym n resize shrink height 10 px or 10 ppt
    bindsym s resize grow width 10 px or 10 ppt

    ## Arrow keys, resize 10 px.
    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt

    ## End resize mode.
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym XF86Launch1 exec 'locker'

##
## EXEC
##

## Run standard X session script.
exec ~/.xsession

## Ensure proper colors, e.g. fix Pink Screen of Death in URXVT.
exec xrdb -merge $HOME/.Xdefaults

## Allow external hosts, e.g. Docker-based X11-applications.
exec xhost +
exec /usr/bin/xfce4-volumed
exec /usr/bin/redshift-gtk

